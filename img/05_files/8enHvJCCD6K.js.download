if (self.CavalryLogger) { CavalryLogger.start_js(["hzCzo"]); }

__d("AdsSpinnerCover.react",["cx","FDSSpinner.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=b("joinClasses")(a.className,"_2qei"+(a.show?" _2qej":"")+(a.background==="light"?" _7heh":"")+(a.background==="medium"?" _2qek":"")+(a.background==="dark"?" _2qel":""));a=a.show===!0?b("React").jsx("div",{className:"_2qer","data-testid":a.testID,children:b("React").jsx(b("FDSSpinner.react"),{shade:a.background==="medium"||a.background==="dark"?"light":"dark"})}):null;return b("React").jsx("div",{className:c,children:a})};a.defaultProps={background:"light"};e.exports=a}),null);
__d("AdsEditorUnsupportedReasons",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ADGROUP:{APP_AD_WITH_POST_ID:"",DELETED_POST:"",DEPRECATE_OLD_COLLECTION:"",DEPRECATE_OLD_OFFER:"",EVENT_WITHOUT_ACTOR:"",L1_APP_WITH_INSTAGRAM_PLACEMENT:"",LEAD_GEN_AD_WITH_POST_ID:"",MESSAGE_OBJECTIVE_AD_WITH_POST_ID:"",IG_PROMOTE_BOOSTED_POST:"",PREMIUM_VIDEO:"",PRIVACY_CHECK_FAILED:"",RTB:"",SPONSORED_STORY:"",TARGETING_OR_PRICING:"",UNKNOWN_INVALID_TYPE:"",UNRECOGNIZED_OBJECT_TYPE:"",WEBSITE_AD_WITH_INLINE_PHOTO_POST:"",STORE_VISITS_WITH_PRODUCT_CATALOG:"",USER_PROFILE_ADS_NOT_SUPPORTED:""},CAMPAIGN:{IG_PROMOTE_BOOSTED_POST:""},CAMPAIGN_GROUP:{},NO_OBJECTIVE:"",UNSUPPORTED_OBJECTIVE:""});e.exports=a}),null);
__d("AdsEditorUnsupportedReasonUtils",["AdsAPIAdgroupRecordUtils","AdsAPIBidType","AdsAPICampaignGroupRecordUtils","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsEditorUnsupportedReasons","AdsInstagramApplicabilityUtils","AdsInterfacesLogger","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","ApiAdObjectTypes","BoostedComponentAppID","adsAccountGK","gkx","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set([b("ApiAdObjectTypes").INVALID,b("ApiAdObjectTypes").POST_DELETED,b("ApiAdObjectTypes").PRIVACY_CHECK_FAIL]),h=new Set([(a=b("AdsAPIObjectives")).APP_INSTALLS,a.BRAND_AWARENESS,a.CANVAS_APP_ENGAGEMENT,a.CANVAS_APP_INSTALLS,a.EVENT_RESPONSES,a.LEAD_GENERATION,a.MESSAGES,a.MOBILE_APP_ENGAGEMENT,a.MOBILE_APP_INSTALLS,a.OFFER_CLAIMS,a.PAGE_LIKES,a.POST_ENGAGEMENT,a.PRODUCT_CATALOG_SALES,a.VIDEO_VIEWS,a.LINK_CLICKS,a.CONVERSIONS,a.REACH,a.STORE_VISITS,a.WILDCARD_INTERNAL_ONLY]);c={hasUnsupportedObjectType:function(a){return g.has(a)},forAdgroup:function(a,c,d,e){__p&&__p();var f=d.objective;if(p(f))return b("AdsEditorUnsupportedReasons").NO_OBJECTIVE;if(o(f))return b("AdsEditorUnsupportedReasons").UNSUPPORTED_OBJECTIVE;if(k(a,f))return b("AdsEditorUnsupportedReasons").ADGROUP.WEBSITE_AD_WITH_INLINE_PHOTO_POST;if(i(c,a,f)){var g=b("adsAccountGK")._(e.adAccount,"cVql0dXSc",!1);if(!g)return b("AdsEditorUnsupportedReasons").ADGROUP.APP_AD_WITH_POST_ID}if(v(a))return b("AdsEditorUnsupportedReasons").ADGROUP.IG_PROMOTE_BOOSTED_POST;if(l(a))return b("AdsEditorUnsupportedReasons").ADGROUP.EVENT_WITHOUT_ACTOR;if(m(c,e.isNewCampaign,f))return b("AdsEditorUnsupportedReasons").ADGROUP.L1_APP_WITH_INSTAGRAM_PLACEMENT;if(n(a))return b("AdsEditorUnsupportedReasons").ADGROUP.RTB;if(q(a)){b("AdsInterfacesLogger").log({eventName:"adgroup_has_invalid_object_type",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.UNKNOWN_INVALID_TYPE}if(r(a)){b("AdsInterfacesLogger").log({eventName:"adgroup_has_deleted_post",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.DELETED_POST}if(s(a)){b("AdsInterfacesLogger").log({eventName:"adgroup_has_failed_privacy_check",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.PRIVACY_CHECK_FAILED}if(j(a,f))return b("AdsEditorUnsupportedReasons").ADGROUP.LEAD_GEN_AD_WITH_POST_ID;if(t(f,d))return b("AdsEditorUnsupportedReasons").ADGROUP.STORE_VISITS_WITH_PRODUCT_CATALOG;g=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaign:c,campaignGroup:d});if(x(a,g))return b("AdsEditorUnsupportedReasons").ADGROUP.DEPRECATE_OLD_COLLECTION;if(u(a))return b("AdsEditorUnsupportedReasons").ADGROUP.USER_PROFILE_ADS_NOT_SUPPORTED;e=g.getUnifiedCreativeAPIFieldMapping(a);if(e===b("AdsUnifiedCreativeAPIFieldMappings").INVALID_MAPPING){b("AdsInterfacesLogger").log({eventName:"adgroup_has_unrecognized_object_type",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.UNRECOGNIZED_OBJECT_TYPE}return null},forCampaign:function(a,c){a=c.objective;if(p(a))return b("AdsEditorUnsupportedReasons").NO_OBJECTIVE;if(o(a))return b("AdsEditorUnsupportedReasons").UNSUPPORTED_OBJECTIVE;return w(c)?b("AdsEditorUnsupportedReasons").CAMPAIGN.IG_PROMOTE_BOOSTED_POST:null},forCampaignGroup:function(a){a=a.objective;if(p(a))return b("AdsEditorUnsupportedReasons").NO_OBJECTIVE;return o(a)?b("AdsEditorUnsupportedReasons").UNSUPPORTED_OBJECTIVE:null}};function i(a,c,d){a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a);return b("AdsAppUtils").isAppObjective(d,a)&&b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c)}function j(a,c){return c===b("AdsAPIObjectives").LEAD_GENERATION&&b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)}function k(a,c){c=b("AdsWebsiteAdUtils").isWebsiteObjective(c);a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:a.photo_data;return c&&!!a}function l(a){a=(a=a.creative)==null?void 0:a.object_type;return a===b("ApiAdObjectTypes").EVENT}function m(a,c,d){var e=b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a);return b("AdsAppUtils").isMobileAppInstall(d,e)&&!c&&b("AdsInstagramApplicabilityUtils").hasInstagramPlacement(a)&&!a.promoted_object}function n(a){a=a.bid_type;return a===b("AdsAPIBidType").RTB}function o(a){return!h.has(a)}function p(a){return!a||a===b("AdsAPIObjectives").NONE}function q(a){return((a=a.creative)==null?void 0:a.object_type)===b("ApiAdObjectTypes").INVALID}function r(a){return((a=a.creative)==null?void 0:a.object_type)===b("ApiAdObjectTypes").POST_DELETED}function s(a){return((a=a.creative)==null?void 0:a.object_type)===b("ApiAdObjectTypes").PRIVACY_CHECK_FAIL}function t(a,c){c=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectProductCatalogID(c)!=null;return a===b("AdsAPIObjectives").STORE_VISITS&&c}function u(a){return b("gkx")("932290")&&((a=a.creative)==null?void 0:a.actor_type)==="USER"}function v(a){return a.source_app_id===b("BoostedComponentAppID").BOOSTED_INSTAGRAM_MEDIA_MOBILE||a.source_app_id===b("BoostedComponentAppID").BOOSTED_INSTAGRAM_MEDIA}function w(a){return a.boosted_component_product==="boosted_instagram_media"}function x(a,c){if(!b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,c)||!b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,c))return!1;var d=a.getIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c));a=a.getIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c));return!!d&&d.count()>0&&!b("isAdsCanvasLink")(a)}e.exports=c}),null);
__d("AdsUEditorCampaignGroupContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({campaignGroupEditorContext:null});e.exports=a}),null);
__d("AdPreviewLoadingOverlayTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PROGRESS_BAR:"progressbar",SHIMMER:"shimmer"})}),null);
__d("BUIAdoptionUtils",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){switch(a){case"small":case"medium":return"small";case"large":return"medium";case"xlarge":case"xxlarge":return"large";case void 0:return void 0;default:g(0,3370,a)}}function b(a){switch(a){case"success":return"success";case"notify":return"information";case"recommend":return"warning";case"warn":return"error";case"quiet":return"information";case void 0:return void 0;default:g(0,3371,a)}}function c(a){return function(b){return a({value:b})}}e.exports={convertSelectorXUIOnChangeToSUIOnChange:c,convertSizeToFDSSize:a,convertUseToType:b}}),null);
__d("adsPreviewGetPageletAPIVersion",["AdsGraphAPI"],(function(a,b,c,d,e,f){"use strict";function a(){return"v"+b("AdsGraphAPI").getVersion()}e.exports=a}),null);
__d("AdPreview.react",["cx","fbt","AdPreviewLoadingOverlayTypes","AdsSpinnerCover.react","Arbiter","BUIAdoptionUtils","DOM","FBLogger","React","ReactDOM","SUIBusinessTheme","SUINotice.react","UIPagelet","WebApiApplication","adsPreviewGetPageletAPIVersion","getObjectValues","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isError:!1,isLoading:!1,errorLevel:null,errorMessage:null},d.$7=function(a){__p&&__p();if(d.$1==null)return;d.$1=null;d.setState({isError:!1,isLoading:!1});a();b("Arbiter").inform("AdPreview/PageletLoadSuccess",{component:babelHelpers.assertThisInitialized(d)});a=d.props.onPreviewLoadSuccess;a&&d.$2&&a({requestKey:d.$2});a=b("DOM").scry(d.$5(),"[data-preview-error]");a.length>0&&d.props.onPreviewRenderError&&d.props.onPreviewRenderError(a[0].innerText)},d.$8=function(a){if(d.$1==null)return;d.$1=null;d.setState({isError:!0,isLoading:!1});a=d.props.onPreviewLoadFailure;a&&d.$2&&a({requestKey:d.$2})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$3(this.props)};d.componentWillUnmount=function(){this.$2=null,this.$1&&this.$1.cancel(),this.$1=null,this.$4(),b("DOM").empty(this.$5())};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a)};d.render=function(){var a=!this.state.isError,c=this.state.isError&&!this.state.isLoading,d=this.state.errorLevel?this.state.errorLevel:"warn",e=this.state.errorMessage?this.state.errorMessage:h._("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e41\u0e2a\u0e14\u0e07\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e02\u0e2d\u0e07\u0e42\u0e06\u0e29\u0e13\u0e32\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49");return b("React").jsx("div",{className:"_2hm6"+(this.state.isLoading?" _2hm7":""),children:b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx(b("AdsSpinnerCover.react"),{background:this.props.spinnerBackgroundColor,className:"_4fap",show:this.state.isLoading,testID:this.props.spinnerTestID}),b("React").jsx("div",{className:c?"":"hidden_elem",children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:b("BUIAdoptionUtils").convertUseToType(d),children:e})}),b("React").jsx("div",{className:a?"":"hidden_elem","data-testid":void 0,ref:"pageletContainer"})]})})};d.$3=function(a){__p&&__p();var d=a.adAccountID,e=a.adgroupID,f=a.creativeID,g=a.creative,h=a.customPlayMode,i=a.lastForceUpdateTimeStamp,j=a.linkShareData,k=a.mockupID,l=a.apiFormat,m=a.appID,n=a.borderStyle,o=a.objective,p=a.productItemIDs,q=a.projectAccessToken,r=a.placePageID,s=a.postData;a=a.suppresslinks;var t=this.$6(d,e,f,g,h,l=="RIGHT_COLUMN_STANDARD"?void 0:j,l,m,n,o,p,r,s);if(t===this.$2&&(!i||this.props.lastForceUpdateTimeStamp===i))return;this.$1&&this.$1.cancel();this.$1=null;this.$2=t;l!==this.props.apiFormat&&(this.$4(),b("DOM").empty(this.$5()));if(!e&&!f&&!g){b("FBLogger")("ads").mustfix("AdPreview.react must be passed either adgroupID, creative or creativeID");this.setState({isError:!0,isLoading:!1});return}if(this.props.onValidate){i=this.props.onValidate(g,l);if(i.length){t=null;var u=null;i=i.filter(function(a){return a.field===c.PREVIEW_MESSAGE_FIELD_NAME});i.length&&(t=i[0].level,u=i[0].message);this.setState({isError:!0,isLoading:!1,errorLevel:t,errorMessage:u});return}}this.setState({isError:!1,isLoading:!0,errorLevel:null,errorMessage:null});this.$4();m||(m=b("WebApiApplication").getClientID());i=!!e;t=this.props.onPreviewLoadStart;t&&this.$2&&t({requestKey:this.$2});this.$1=b("UIPagelet").loadFromEndpoint(this.props.mockupID?"CrStAdPreviewPageletContainer":"AdPreviewPageletController",this.$5(),{adaccountid:d,adid:i?e:null,appid:m,creativeid:f,creative:i?null:g,customplaymode:h===void 0?null:h,linksharedata:l=="RIGHT_COLUMN_STANDARD"?void 0:j,loadingoverlay:this.props.loadingOverlay,skipDisclaimerForAN:this.props.skipDisclaimerForAN,mockupID:k,projectAccessToken:q,videodata:{ad_objective:o},format:l,borderstyle:n,productitemids:p,editable:this.props.editable,placePageID:r,postdata:s,suppresslinks:a,version:this.props.apiVersion?this.props.apiVersion:b("adsPreviewGetPageletAPIVersion")()},{append:!1,crossPage:!0,displayCallback:this.$7,errorHandler:this.$8,transportErrorHandler:this.$8,bundle:this.props.bundle!==void 0?this.props.bundle:!0})};d.$4=function(){var a=b("ReactDOM").findDOMNode(this.refs.pageletContainer);if(!a.querySelector)return;a=a.querySelectorAll(".UFILikeLink, .UFIList, .UFIBlingBox");for(var c=0,d=a.length;c<d;c++)b("ReactDOM").unmountComponentAtNode(a[c].parentNode)};d.$5=function(){return b("ReactDOM").findDOMNode(this.refs.pageletContainer)};d.$6=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return[a,g,b,c,JSON.stringify(d),e,JSON.stringify(f),h,i,j,JSON.stringify(k),l,JSON.stringify(m)].join(":")};return c}(b("React").Component);a.PREVIEW_MESSAGE_FIELD_NAME="PREVIEW_MESSAGE_FIELD_NAME";a.propTypes={adAccountID:(c=b("prop-types")).string.isRequired,adgroupID:c.string,apiFormat:c.string.isRequired,apiVersion:c.string,appID:c.string,borderStyle:c.string,bundle:c.bool,creative:c.object,creativeID:c.string,customPlayMode:c.number,editable:c.bool,lastForceUpdateTimeStamp:c.number,linkShareData:c.object,loadingOverlay:c.oneOf(b("getObjectValues")(b("AdPreviewLoadingOverlayTypes"))),objective:c.string,placePageID:c.string,productItemIDs:c.array,projectAccessToken:c.string,suppresslinks:c.bool,onPreviewLoadFailure:c.func,onPreviewLoadStart:c.func,onPreviewLoadSuccess:c.func,onValidate:c.func};a.defaultProps={appID:b("WebApiApplication").getClientID(),editable:!1};e.exports=a}),null);
__d("PagesComposerOverlayActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({FETCH_PAGES_COMPOSER_DIALOG_DATA:null,OVERLAY_POST_SUCCESS:null,OVERLAY_RESET:null,PAGES_COMPOSER_DIALOG_DATA_LOADED:null},"PagesComposerOverlayActionTypes");e.exports=a}),null);
__d("PagesComposerOverlayActions",["PagesComposerOverlayActionTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("PagesComposerOverlayActionTypes").OVERLAY_POST_SUCCESS})};c=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("PagesComposerOverlayActionTypes").OVERLAY_RESET})};d=function(a){b("ReactComposerDispatcher").dispatch({type:b("PagesComposerOverlayActionTypes").FETCH_PAGES_COMPOSER_DIALOG_DATA,composerID:a})};f=function(a){b("ReactComposerDispatcher").dispatch({type:b("PagesComposerOverlayActionTypes").PAGES_COMPOSER_DIALOG_DATA_LOADED,composerID:a})};e.exports={handleOverlayPostSuccess:a,handleOverlayReset:c,handlePagesComposerDialogDataFetch:d,handlePagesComposerDialogDataLoaded:f}}),null);
__d("PagesStoryCreationUtils",["ReactComposerAudienceStore"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("ReactComposerAudienceStore").getStoriesSelected(a);a=b("ReactComposerAudienceStore").getTimelineSelected(a);return c&&!a}e.exports={getIsOnlyStorySelected:a}}),null);
__d("PagesWWWInstagramBusinessPhotoReminderActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FETCH_INITIAL_PHOTOS:"",FETCH_MORE_PHOTOS:"",SET_SELECTED_PHOTO:"",IS_FETCHING_IG_PHOTOS:""});e.exports=a}),null);
__d("PagesWWWInstagramBusinessPhotoReminderStoreData",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record;c={cursor:null,dataLoaded:!1,isFetching:!1,photos:b("immutable").List([]),selectedPhoto:null};d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getDataLoaded=function(){return this.dataLoaded};c.getCursor=function(){return this.cursor};c.getIsFetching=function(){return this.isFetching};c.getPhotos=function(){return this.photos};c.getSelectedPhoto=function(){return this.selectedPhoto};c.setDataLoaded=function(a){return this.set("dataLoaded",a)};c.setCursor=function(a){return this.set("cursor",a)};c.setInitialPhotos=function(a){return this.set("photos",a)};c.setSelectedPhoto=function(a){return this.set("selectedPhoto",a)};c.mergePhotos=function(a){return this.set("photos",this.getPhotos().concat(a))};return b}(a(babelHelpers["extends"]({},c)));e.exports=d}),null);
__d("PagesWWWInstagramBusinessPhotoReminderStore",["FluxReduceStore","PagesWWWInstagramBusinessPhotoReminderActionType","PagesWWWInstagramBusinessPhotoReminderStoreData","ReactComposerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("PagesWWWInstagramBusinessPhotoReminderStoreData"))()};d.reduce=function(a,c){__p&&__p();if(c){var d=c.payload?c.payload:{},e=d.cursor;d=d.photos;switch(c.type){case b("PagesWWWInstagramBusinessPhotoReminderActionType").FETCH_INITIAL_PHOTOS:return a.setInitialPhotos(b("immutable").List(d)).setSelectedPhoto(null).setCursor(e).setDataLoaded(!0).set("isFetching",!1);case b("PagesWWWInstagramBusinessPhotoReminderActionType").FETCH_MORE_PHOTOS:return a.mergePhotos(b("immutable").List(d)).setCursor(e).set("isFetching",!1);case b("PagesWWWInstagramBusinessPhotoReminderActionType").SET_SELECTED_PHOTO:d=c.selectedPhoto;return a.setSelectedPhoto(d);case b("PagesWWWInstagramBusinessPhotoReminderActionType").IS_FETCHING_IG_PHOTOS:return a.set("isFetching",c.isFetching);default:return a}}else return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ReactComposerDispatcher"))}),null);
__d("ReactComposerMediaAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CANVAS:"CANVAS",CAROUSEL:"CAROUSEL",SLIDESHOW:"SLIDESHOW",PHOTOS:"PHOTOS",ALBUM:"ALBUM"})}),null);
__d("ComposerXPages",["Arbiter","CurrentUser","DOM","DOMScroll","Event","PagesComposerActions","PagesComposerOverlayActions","PagesComposerUnpublishedPostsStore","PagesComposerUtils","PagesStoryCreationUtils","PagesWWWInstagramBusinessPhotoReminderActionType","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerEvents","ReactComposerInit","ReactComposerMediaAttachmentType","ReactComposerPostUtilsCore","ReactComposerSlideshowActions","ReactComposerSlideshowLoggingStore","ReactComposerStore","Run","URI","ge","setTimeout","PagesWWWInstagramBusinessPhotoReminderStore"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("PagesComposerActions").updatePreviewConfig,i=b("PagesComposerUtils").redirectOnPostSuccess,j=b("PagesStoryCreationUtils").getIsOnlyStorySelected;a={initScrollToComposer:function(a){b("Event").listen(a,"click",function(){this._scrollAndFocus(b("ge")("pagelet_timeline_recent"))}.bind(this))},initScrollToComposerWithUserVoice:function(a,c){b("Event").listen(a,"click",function(){var a=b("ge")(c);b("Arbiter").inform("ComposerXPages/composePostWithActor",{actorID:b("CurrentUser").getID(),callback:function(){b("DOM").find(a,"textarea.input").focus()}});a&&this._scrollAndFocus(a)}.bind(this))},scrollToComposer:function(a){var c=window.location.href;(g||(g=b("URI"))).getRequestURI().getQueryData().focus_composer||(g||(g=b("URI"))).getRequestURI().getQueryData().scroll_to_composer?b("Run").onAfterLoad(function(){this._scrollAndFocus(a)}.bind(this)):c.indexOf("focus_composer")!=-1&&this._scrollAndFocus(a)},registerForAutoClose:function(a,c,d,e){__p&&__p();var f=this;b("Arbiter").subscribe("Pages/composeFinished",function(f,g){__p&&__p();if(g.composerID===c){var j=b("PagesComposerUnpublishedPostsStore").getPostActionType(c);f=j==="PREVIEW";if(f)h(c,!1,g.contentID,null,null);else{b("PagesComposerOverlayActions").handleOverlayPostSuccess(c);var k=function(){a&&a.hide(),g.contentID&&b("Arbiter").inform("composer/publish",{content_id:g.contentID,matchData:{content_id:g.contentID},shouldNotReload:d})};d?b("setTimeout")(function(){b("ReactComposerInit").hideComposer(c),k(),b("ReactComposerPostUtilsCore").handlePostSucceeded(c),e!==null&&e!==void 0&&i(e,j)},3e3):k()}}});b("Arbiter").subscribe(b("ReactComposerEvents").COMPOSER_RESET+c,function(b,c){f.registerForAutoClose(a,c.newComposerID)})},shouldHideComposer:function(a){var c=b("PagesComposerUnpublishedPostsStore").getPostActionType(a)==="PREVIEW";return j(a)&&!c},handleStoryCreation:function(a,c){var d=this;b("Arbiter").subscribe(b("ReactComposerEvents").POST_STARTED+c,function(){d.shouldHideComposer(c)&&(b("ReactComposerInit").hideComposer(c),a&&a.hide())});b("Arbiter").subscribe("Pages/createStorySuccess",function(){d.shouldHideComposer(c)&&b("ReactComposerPostUtilsCore").handlePostSucceeded(c)})},attachIGPhoto:function(a,c){b("PagesWWWInstagramBusinessPhotoReminderStore");c={type:b("PagesWWWInstagramBusinessPhotoReminderActionType").SET_SELECTED_PHOTO,selectedPhoto:c,composerID:a};b("ReactComposerDispatcher").dispatch(c);b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").IG_PHOTO_REMINDER,!0,"IG_PHOTO_REMINDER",b("ReactComposerStore").getSproutSurface(a))},openMediaTab:function(a,c){b("ReactComposerAttachmentActions").selectAttachment(a,"MEDIA",!0),c==="SLIDESHOW"&&(b("ReactComposerSlideshowLoggingStore").activate(),b("ReactComposerSlideshowActions").showSlideshowDialog(a,"composer_url_params"))},openCTATab:function(a){b("ReactComposerAttachmentActions").selectAttachment(a,"CTA")},openLivingRoomTab:function(a){b("ReactComposerAttachmentActions").selectAttachment(a,"LIVING_ROOM")},registerLivingRoomAutoClose:function(a,c){b("Arbiter").subscribe("Pages/livingRoomCreated",function(d,e){e.composerID===c&&(b("ReactComposerInit").hideComposer(c),a&&a.hide())})},_scrollAndFocus:function(a){b("DOMScroll").scrollTo(a,500,!1,0,0,function(){b("DOM").find(a,"textarea.input").focus()})}};e.exports=a}),null);
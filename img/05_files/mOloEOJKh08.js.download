if (self.CavalryLogger) { CavalryLogger.start_js(["4EzYy"]); }

__d("InstreamVideoAdBreak",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a.instreamPlacement,this.$2=a.index,this.$3=a.timeOffsetInMs,this.$4=a.adBreakDurationInMs,this.$5=a.isAdBreakAutoInserted,this.$6=a.naturalnessScore,this.$7=a.midSpeechScore}var b=a.prototype;b.getInstreamPlacement=function(){return this.$1};b.getIndex=function(){return this.$2};b.getTimeOffsetInMs=function(){return this.$3};b.getAdBreakDurationInMs=function(){return this.$4};b.getIsAdBreakAutoInserted=function(){return this.$5};b.getNaturalnessScore=function(){return this.$6};b.getMidSpeechScore=function(){return this.$7};return a}();e.exports=a}),null);
__d("CometVideoCommentComposerGlimmer.react",["BaseGlimmer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;a=a.index;return(c=b("React")).jsx("div",{className:"j9ispegn pmk7jnqg dhix69tm bi6gxh9e wkznzc2l kvgmc6g5 n7fi1qx3 i09qtzwb",children:c.jsxs("div",{className:"j83agx80 bp9cbjyn",children:[c.jsx(b("BaseGlimmer.react"),{className:"q676j6op oi9244e8 qypqp5cg pfnyh3mw spb7xbtv bkmhp75w emlxlaya s45kfl79",index:a}),c.jsx(b("BaseGlimmer.react"),{className:"l5sxq0ai tv7at329 buofh1pr gob819ct ols5edhi gmcszhul emml16de",index:a})]})})}e.exports=a}),null);
__d("PopoverAsyncMenu.react",["cx","CSS","InlineBlock.react","MenuTheme","Popover","PopoverAsyncMenu","PopoverLoadingMenu","PopoverMenu.react","React","ReactDOM","URI","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getPopoverMenu=function(){return d.$2},d.$3=function(){var a=b("ReactDOM").findDOMNode(d.refs.root);a=a.firstChild;return new(b("PopoverAsyncMenu"))(d.$1,a,d.props.loadingMenu,d.props.endpoint,d.props.behaviors,d.props.endpointData)},d.getMenu=function(){return d.$2.getMenu()},d.showPopover=function(a){d.$1.showLayer();if(a){var b=d.$2.getMenu();b.blur();b.focusAnItem(a)}},d.hidePopover=function(){var a=d.$1;a&&a.isShown()&&a.hideLayer()},d.getFocusedItem=function(){var a=d.$2.getMenu();return a.getFocusedItem()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;a=b("ReactDOM").findDOMNode(this.refs.root);var c=a.firstChild;b("CSS").addClass(c,"_p");this.$1=new(b("Popover"))(a,c,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this.props.onShow&&this.$1.subscribe("show",this.props.onShow);this.props.onHide&&this.$1.subscribe("hide",this.props.onHide);this.$2=this.$3()};d.componentDidUpdate=function(a){this.props.alignh!==a.alignh&&this.$2.getPopover().getLayer().setAlignment(this.props.alignh),this.props.disabled!==a.disabled&&(this.props.disabled?this.$2.disable():this.$2.enable()),this.props.endpoint.toString()!==a.endpoint.toString()&&(this.hidePopover(),this.$2=this.$3())};d.render=function(){var a=b("React").Children.map(this.props.children,function(a,c){if(c===0)return b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,"_p")});else return a});return b("React").jsx(b("InlineBlock.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null,children:a}))};d.componentWillUnmount=function(){this.hidePopover()};return c}(b("React").Component);a.getButtonSize=b("PopoverMenu.react").getButtonSize;a.propTypes={alignh:(c=b("prop-types")).oneOf(["left","center","right"]),alignv:c.oneOf(["baseline","bottom","middle","top"]),position:c.oneOf(["above","below","left","right"]),layerBehaviors:c.array,loadingMenu:c.instanceOf(b("PopoverLoadingMenu")),disabled:c.bool,endpoint:c.oneOfType([c.string.isRequired,c.instanceOf(h||(h=b("URI"))).isRequired]),endpointData:b("prop-types").object,onShow:b("prop-types").func,onHide:b("prop-types").func};a.defaultProps={alignv:"middle",loadingMenu:new(b("PopoverLoadingMenu"))({theme:b("MenuTheme")})};e.exports=a}),null);
__d("ElementVisibilityTracking",["Event","SubscriptionsHandler","ViewportTrackingHelper","Visibility","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){var c=this;this.handleVisibilityChange=function(a){b("Visibility").isHidden()?c.config.onLeaveViewport():c.config.onEnterViewport()};this.config=a;this.subscriptions=new(b("SubscriptionsHandler"))();this.isVisible=this.$1();this.isVisible&&a.onEnterViewport()}var c=a.prototype;c.init=function(){var a=this,c=b("throttle")(function(b){a.handleResize(b)},this.config.resizeThrottlingInterval),d=b("throttle")(function(b){a.handleScroll(b)},this.config.scrollThrottlingInterval);this.subscriptions.addSubscriptions(b("Event").listen(window,"resize",c),b("Event").listen(window,"scroll",d),(c=b("Visibility")).addListener(c.VISIBLE,this.handleVisibilityChange),c.addListener(c.HIDDEN,this.handleVisibilityChange))};c.removeListeners=function(){this.subscriptions.release()};c.handleResize=function(a){this.$2(a)};c.handleScroll=function(a){this.$2(a)};c.$1=function(){return b("ViewportTrackingHelper").isVisibleUnderBluebar(this.config.element,this.config.minVisibleHeight)};c.$2=function(a){a=this.$1();this.isVisible&&!a?this.config.onLeaveViewport():!this.isVisible&&a&&this.config.onEnterViewport();this.isVisible=a};return a}();e.exports=a}),null);
__d("CommercialBreakCallToActionAttachment.react",["cx","React","TrackingNodes","XUIText.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props.link||!this.props.linkCaption&&!this.props.linkTitle)return null;var a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.INSTREAM_CALL_TO_ACTION_ATTACHMENT);return b("React").jsxs("div",{className:"_1y4d","data-ft":a,children:[b("React").jsx(b("XUIText.react"),{className:"_1y4e",children:this.props.linkTitle}),b("React").jsx(b("XUIText.react"),{className:"_1y4g",style:{paddingTop:this.props.linkTitle?"12px":"0px",display:this.props.linkCaption?"inherit":"none"},children:this.props.linkCaption}),b("React").jsx("a",{className:"_275_",href:this.props.link,target:"_blank",onClick:this.props.onClick})]})};return c}(b("React").Component);e.exports=a}),null);
__d("CommercialBreakCallToActionButton.react",["cx","React","ServerHTML.react","SUIBusinessTheme","SUIButton.react","TrackingNodes"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.callToActionType==="NO_BUTTON")return null;var a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.INSTREAM_CALL_TO_ACTION_BUTTON);switch(this.props.buttonLocation){case"inline":return b("React").jsx("a",{onClick:this.props.onClick,href:this.props.link,"data-ft":a,target:"_blank",children:b("React").jsx(b("ServerHTML.react"),{blob:this.props.callToActionText,className:"_44mp"})});case"context_card":return b("React").jsx(b("SUIButton.react"),{label:b("React").jsx(b("ServerHTML.react"),{blob:this.props.callToActionText}),href:{url:this.props.link},target:"_blank","data-ft":a,theme:b("SUIBusinessTheme"),onClick:this.props.onClick});default:return null}};return c}(b("React").Component);e.exports=a}),null);
__d("CommercialBreakContextCard.react",["ix","cx","fbt","AsyncRequest","CenteredContainer.react","CommercialBreakCallToActionAttachment.react","CommercialBreakCallToActionButton.react","CommercialBreakUtil","Image.react","LayerFadeOnHide","PopoverAsyncMenu.react","React","RoundImage.react","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.state={inforCardShown:!1,infoCardNuxShown:!1};c.$15=function(){if(c.props.infoCardNuxID){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",c.props.infoCardNuxID).getURI();new(b("AsyncRequest"))().setURI(a).send()}c.setState({infoCardNuxShown:!1})};c.$1=null;c.$2=null;c.$3=!1;return c}var d=c.prototype;d.componentDidMount=function(){this.$2||(this.$2=this.props.hostVPC.addListener("commercialBreak/showUFI",this.$4.bind(this))),this.props.infoCardNuxID&&!this.state.infoCardNuxShown&&this.setState({infoCardNuxShown:!0})};d.componentWillUnmount=function(){this.$2&&this.$2.remove(),this.$2=null};d.render=function(){return b("React").jsxs("div",{className:"_36l3",children:[this.$5(),this.$6()]})};d.$5=function(){return this.props.callToAction&&this.props.config.isDREnabled&&this.props.config.sponsorLocation!=="context_card"?null:b("React").jsxs("div",{className:"_1y8j",children:[b("React").jsx("div",{className:"_1y8k",children:b("React").jsx("a",{href:this.props.profileLink,target:"_blank",onClick:this.$7.bind(this),children:b("React").jsx(b("Image.react"),{style:{display:"block"},height:"40",width:"40",src:this.props.profilePicURI})})}),b("React").jsx("div",{className:"_1y8n",children:b("React").jsxs("div",{className:"_1y8v",children:[b("React").jsx("div",{className:"_1y8w",children:b("React").jsx("a",{href:this.props.profileLink,target:"_blank",onClick:this.$7.bind(this),children:this.props.profileName})}),b("React").jsx("div",{className:"_1y8x",children:i._("\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e2a\u0e19\u0e31\u0e1a\u0e2a\u0e19\u0e38\u0e19")})]})}),b("React").jsxs("div",{className:"_2n2q",children:[this.$8(),this.$9(),this.$10()]})]})};d.$9=function(){if(!this.props.hostVideoOwnerPageProfileName||!this.props.hostVideoOwnerPageProfileImageURI)return null;return this.props.hostVPC.getSource()==="tahoe"||this.props.config.isDREnabled&&this.props.callToAction&&this.props.config.ctaButtonLocation==="context_card"?null:b("React").jsxs("div",{className:"_1z7o",role:"presentation",onClick:this.$11.bind(this),ref:"infoButton",children:[this.$12(),this.$13(),b("React").jsx(b("Image.react"),{src:g("124739")})]})};d.$11=function(){this.setState({inforCardShown:!0,infoCardNuxShown:!1}),b("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_context_card_info_button_click")};d.$7=function(){b("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_click",{ad_break_click_source:"PROFILE"})};d.$14=function(){this.setState({inforCardShown:!1})};d.$12=function(){var a;return(a=b("React")).jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,shown:this.state.inforCardShown,onHide:this.$14.bind(this),width:400,children:[a.jsx(b("XUIDialogTitle.react"),{children:a.jsx(b("XUIText.react"),{weight:"bold",children:i._("\u0e17\u0e33\u0e44\u0e21\u0e04\u0e38\u0e13\u0e08\u0e36\u0e07\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d")})}),a.jsx(b("XUIDialogBody.react"),{children:a.jsxs(b("CenteredContainer.react"),{children:[a.jsx("div",{className:"_1z7p",children:a.jsx(b("RoundImage.react"),{src:this.props.hostVideoOwnerPageProfileImageURI,width:56,height:56})}),a.jsx("div",{className:"_1z7q",children:i._("{profile_name} \u0e2b\u0e22\u0e38\u0e14\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e02\u0e2d\u0e07\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e0a\u0e31\u0e48\u0e27\u0e04\u0e23\u0e32\u0e27\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e25\u0e48\u0e19\u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e23\u0e35\u0e21 \u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e23\u0e35\u0e21\u0e04\u0e37\u0e2d\u0e27\u0e34\u0e18\u0e35\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e17\u0e35\u0e48\u0e04\u0e23\u0e35\u0e40\u0e2d\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e43\u0e0a\u0e49\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e1a\u0e19 Facebook",[i._param("profile_name",a.jsx("strong",{children:this.props.hostVideoOwnerPageProfileName}))])})]})}),a.jsx(b("XUIDialogFooter.react"),{children:a.jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]})};d.$13=function(){__p&&__p();var a=this;if(!this.props.infoCardNuxID)return null;if(this.state.infoCardNuxShown&&!this.$3){var c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",this.props.infoCardNuxID).getURI();new(b("AsyncRequest"))().setURI(c).send();this.$3=!0}return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.infoButton},shown:this.state.infoCardNuxShown,position:"below",width:"auto",alignment:"right",onCloseButtonClick:this.$15,children:i._("\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d")})};d.$10=function(){var a=this;if(!this.props.chevronButtonID||!this.props.instreamVideoOptionMenuURI)return null;return this.props.hostVPC.getSource()==="tahoe"||this.props.config.isDREnabled&&this.props.callToAction&&this.props.config.ctaButtonLocation==="context_card"?null:b("React").jsx("div",{className:"_1cx5",children:b("React").jsx(b("PopoverAsyncMenu.react"),{alignh:"center",alignv:"bottom",position:"above",endpoint:this.props.instreamVideoOptionMenuURI,id:this.props.chevronButtonID,layerBehaviors:[],ref:function(b){a.$1=b},children:b("React").jsx(b("Image.react"),{src:g("123796")})})})};d.$8=function(){var a=this.props.callToAction;return!this.props.config.isDREnabled||!a||this.props.config.ctaButtonLocation!=="context_card"?null:b("React").jsx("div",{className:"_11_p",children:b("React").jsx(b("CommercialBreakCallToActionButton.react"),{buttonLocation:this.props.config.ctaButtonLocation,callToActionType:a.ctaType,callToActionText:a.ctaFbt,link:a.link,onClick:this.$16.bind(this)})})};d.$16=function(){b("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_click",{ad_break_click_source:"CALL_TO_ACTION_BUTTON"}),this.props.hostVPC.emit("commercialBreak/CTAClicked")};d.$6=function(){var a=this.props.callToAction;return!this.props.config.isDREnabled||!a?null:b("React").jsx(b("CommercialBreakCallToActionAttachment.react"),{link:a.link,linkTitle:a.linkTitle,linkCaption:a.linkCaption,onClick:this.$17.bind(this)})};d.$17=function(){b("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_click",{ad_break_click_source:"SPONSOR_CONTEXT_CARD"}),this.props.hostVPC.emit("commercialBreak/CTAClicked")};d.$4=function(){this.$1&&this.$1.hidePopover()};return c}(b("React").Component);e.exports=a}),null);
__d("InstreamPlacement",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRE_ROLL:"pre_roll",MID_ROLL:"mid_roll",POST_ROLL:"post_roll",NON_INTERRUPTIVE:"non_interruptive"})}),null);
__d("VideoInstreamRealtimeWatchTimeCounter",[],(function(a,b,c,d,e,f){__p&&__p();var g=0;a=function(){"use strict";__p&&__p();function a(a){a=a.videoPlayerController;this.$1=0;this.$2=a;this.$3()}var b=a.prototype;b.$3=function(){this.$2.addListener("beginPlayback",this.$4.bind(this)),this.$2.addListener("pausePlayback",this.$5.bind(this))};b.$4=function(){this.$1===0&&(this.$1=Date.now())};b.$5=function(){this.$1>0&&(g+=Date.now()-this.$1),this.$1=0};a.resetWatchTimeMs=function(){g=0};return a}();e.exports=a}),null);
__d("InstreamVideoAdsController",["BanzaiODS","CommercialBreakShouldLogMarauderEvent","DataAttributeUtils","DateConsts","DOMQuery","FBLogger","MarauderLogger","NonBlockingIFrame","URI","VideoInstreamRealtimeWatchTimeCounter","ViewableImpressionConfig"],(function(a,b,c,d,e,f){__p&&__p();var g,h=null,i=new Set();a=function(){"use strict";__p&&__p();function a(){this.$1=new Map()}var c=a.prototype;c.$2=function(a){var c=[];this.$1.forEach(function(d,e){!e.isState("destroyed")&&b("DOMQuery").contains(a,e.getRootNode())&&c.push(e)});return c.length===0?null:c[0]};c.$3=function(a,b){if(this.$1.has(a))return;this.$1.set(a,b)};a.registerVideoController=function(c,d){h===null&&(h=new a());h.$3(c,d);b("MarauderLogger").log("commercial_break_register_video","commercial_break",{commercial_break_ad_client_token:c.getAdClientToken()});var e=h;c.once("beginPlayback",function(){e.$4(c),b("VideoInstreamRealtimeWatchTimeCounter").resetWatchTimeMs()})};c.$4=function(a){__p&&__p();var c=this.$1.get(a);if(b("DOMQuery").contains(c,a.getRootNode())){a=b("DataAttributeUtils").getDataAttribute(c,"data-xt");c=Math.floor(Date.now()/b("DateConsts").MS_PER_SEC);a={xt:a,isv:1,cts:c};try{b("NonBlockingIFrame").loadIFrame(new(g||(g=b("URI")))(b("ViewableImpressionConfig").impressionURL).addQueryData(a).toString())}catch(a){b("FBLogger")("instream_ads").catching(a).warn("Failed to log instream ads impression on web");b("BanzaiODS").bumpEntityKey(2966,"instreamads","impression_logging_exception");return}b("BanzaiODS").bumpEntityKey(2966,"instreamads","impression_logging_succeed")}};a.logNonInterruptiveUIEvent=function(a,c,d){d===void 0&&(d={});if(!(Object.prototype.hasOwnProperty.call(b("CommercialBreakShouldLogMarauderEvent"),a)&&b("CommercialBreakShouldLogMarauderEvent")[a]))return;b("MarauderLogger").log(a,"commercial_break",babelHelpers["extends"]({xt:c.xt,instream_placement:c.instreamPlacement,ad_break_index:c.instreamVideoAdBreakIndex,commercial_break_ad_client_token:c.instreamVideoAdBreakClientToken},d))};a.logNonInterruptiveAdImpression=function(a){a=a.xt;if(i.has(a))return;var c=Math.floor(Date.now()/b("DateConsts").MS_PER_SEC);c={xt:a,isv:1,cts:c};b("NonBlockingIFrame").loadIFrame(new(g||(g=b("URI")))(b("ViewableImpressionConfig").impressionURL).addQueryData(c).toString());i.add(a)};a.findVideoControllerForStory=function(a){return h===null?null:h.$2(a)};return a}();e.exports=a}),null);
__d("NonInterruptiveAdHeader.react",["ix","cx","FDSText.react","Image.react","PopoverAsyncMenu.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return b("React").jsxs("div",{className:"_6yiz",children:[b("React").jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:"Ads in this video"}),b("React").jsx(k,babelHelpers["extends"]({},a))]})}function j(a){var c,d=a.nonInterruptiveAd;return(c=b("React")).jsxs("div",{className:"_6yiz",onClick:a.onClick,children:[c.jsx("div",{className:"_6yi_",children:c.jsx("a",{href:d.profileLink,target:"_blank",children:c.jsx(b("Image.react"),{style:{display:"block",borderRadius:"50%"},height:"40",width:"40",src:d.profilePicURI})})}),c.jsxs("div",{className:"_6yj0",children:[c.jsx("div",{className:"_6_uo",children:c.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:c.jsx("a",{href:d.profileLink,target:"_blank",children:d.profileName})})}),c.jsx("div",{children:c.jsx(b("FDSText.react"),{size:"body3",color:"placeholder",children:"Sponsored"})})]}),c.jsx(k,babelHelpers["extends"]({},a))]})}function k(a){return b("React").jsxs("div",{className:"_6yj4",children:[a.isCollapsed||a.instreamVideoOptionMenuURI===null?null:b("gkx")("1007029")?b("React").jsx("div",{className:"_6yj5",children:b("React").jsx(b("PopoverAsyncMenu.react"),{alignh:"center",alignv:"bottom",position:"above",endpoint:a.instreamVideoOptionMenuURI,id:a.chevronButtonID,layerBehaviors:[],children:b("React").jsx(b("Image.react"),{src:g("516422")})})}):b("React").jsx("div",{className:"_6yj5",children:b("React").jsx(b("Image.react"),{src:g("516422")})}),b("React").jsx("div",{className:"_6yj6",onClick:a.onChevronButtonClicked,role:"presentation",children:b("React").jsx(b("Image.react"),{src:a.isCollapsed?g("687232"):g("687239")})})]})}function a(a){return a.isCollapsed?b("React").jsx(i,babelHelpers["extends"]({},a)):b("React").jsx(j,babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("VideoWithNonInterruptiveAd.react",["cx","ElementVisibilityTracking","FDSText.react","Image.react","InstreamVideoAdsController","LineClamp.react","NonInterruptiveAdHeader.react","React","ServerHTML.react","SubscriptionsHandler","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$3=b("React").createRef();d.$4=b("React").createRef();d.state={isCollapsed:!1,entranceAnimationTriggered:!1,shouldShowAd:!1,isViewable:!1,nonInterruptiveAd:null,adHeight:null,containerHeight:null,shouldUnhide:!1};d.$2=new(b("SubscriptionsHandler"))();d.$2.addSubscriptions(d.props.videoWithCommercialBreak.addListener("nonInterruptiveAd/showNonInterruptiveAd",function(a){var b=d.props.videoWithCommercialBreak.getNonInterruptiveStatus();d.setState({isCollapsed:b.isEnable==!0?b.isNICollapse:!1,shouldShowAd:!0,nonInterruptiveAd:a})}),d.props.videoWithCommercialBreak.addListener("nonInterruptiveAd/hideNonInterruptiveAd",function(){d.setState({shouldShowAd:!1,entranceAnimationTriggered:!1,adHeight:null,containerHeight:null})}),d.props.videoWithCommercialBreak.addListener("nonInterruptiveAd/unhide",function(){d.setState({shouldUnhide:!0})}));return d}var d=c.prototype;d.componentDidUpdate=function(){var a=this,c=this.$3.current,d=this.$4.current;(this.state.adHeight==null&&this.state.containerHeight==null&&this.state.nonInterruptiveAd!=null&&this.state.shouldShowAd&&!this.props.videoWithCommercialBreak.getIsNIPreloadedAndHide()||this.state.shouldUnhide==!0)&&c&&d&&this.setState({adHeight:c.clientHeight,containerHeight:d.clientHeight,shouldUnhide:!1},function(){b("setTimeout")(function(){a.setState({entranceAnimationTriggered:!0},function(){a.$1=new(b("ElementVisibilityTracking"))({minVisibleHeight:1,resizeThrottlingInterval:h,scrollThrottlingInterval:h,element:d,onEnterViewport:a.$5.bind(a),onLeaveViewport:a.$6.bind(a)}),a.$1.init()})},0)})};d.componentWillUnmount=function(){this.props.videoWithCommercialBreak.updateNIStatus({NISourceState:null}),this.$1&&this.$1.removeListeners(),this.$2.release()};d.$7=function(){if(this.state.containerHeight==null)return"initial";else if(this.state.entranceAnimationTriggered)return this.state.containerHeight+"px";else return"0"};d.$8=function(){if(this.state.isCollapsed)return"0";else if(this.state.adHeight==null)return"initial";else return this.state.adHeight+"px"};d.$9=function(){var a=this,c=this.state.nonInterruptiveAd;if(!c)return null;var d=c.ctaButton,e=c.ctaAttachment;return b("React").jsx("div",{className:"_6-gf",style:{height:this.$8()},children:b("React").jsxs("div",{className:"_6yj7",ref:this.$3,children:[e!=null?b("React").jsx("div",{children:b("React").jsx(b("ServerHTML.react"),{blob:e,onClick:function(b){a.$10("LINK_CONTEXT_CARD")}})}):null,b("React").jsx("div",{className:"_6yj8",children:b("React").jsx(b("Image.react"),{src:c.imageURL,height:"102",width:"auto",style:{borderRadius:"4px"}})}),b("React").jsxs("div",{className:"_6yj9",children:[b("React").jsx("div",{className:"_6yja",children:b("React").jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:c.callToActionLinkTitle})})}),b("React").jsx("div",{className:"_6yjb",children:b("React").jsx(b("FDSText.react"),{size:"body1",color:"secondary",children:b("React").jsx(b("LineClamp.react"),{lines:2,children:c.message})})}),d!=null?b("React").jsx("div",{children:b("React").jsx(b("ServerHTML.react"),{blob:d,onClick:function(b){a.$10("CALL_TO_ACTION_BUTTON")}})}):null]})]})})};d.render=function(){var a=this;return!this.state.shouldShowAd?null:b("React").jsx("div",{className:"_6y6q",ref:this.$4,style:{height:this.$7()},children:this.state.nonInterruptiveAd?b("React").jsxs("div",{children:[b("React").jsx(b("NonInterruptiveAdHeader.react"),{isCollapsed:this.state.isCollapsed,nonInterruptiveAd:this.state.nonInterruptiveAd,onChevronButtonClicked:this.$11.bind(this),chevronButtonID:this.props.videoWithCommercialBreak.getChevronButtonID(),instreamVideoOptionMenuURI:this.props.videoWithCommercialBreak.getInstreamVideoOptionMenuURI(),onClick:function(){a.$10("PROFILE")}}),this.$9(),b("React").jsx("div",{className:"_89nq _89nr"})]}):null})};d.$11=function(a){__p&&__p();var c=this,d=this.state.nonInterruptiveAd;if(!d)return;a.stopPropagation();this.setState(function(a){var e=a.adHeight;e===0&&c.$3.current&&(e=c.$3.current.clientHeight);a.isCollapsed?b("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_expanded",d):b("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_collapsed",d);c.props.videoWithCommercialBreak.updateNIStatus({isNICollapse:!a.isCollapsed});return{isCollapsed:!a.isCollapsed,containerHeight:null,adHeight:e}})};d.$10=function(a){var c=this.state.nonInterruptiveAd;if(!c)return;b("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_click",c,{ad_break_click_source:a})};d.$5=function(){var a=this.state.nonInterruptiveAd;if(!a)return;b("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_shown",a);b("InstreamVideoAdsController").logNonInterruptiveAdImpression(a);this.setState({isViewable:!0})};d.$6=function(){var a=this.state.nonInterruptiveAd;if(!a)return;b("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_hidden",a);this.setState({isViewable:!1})};return c}(b("React").Component);e.exports=a}),null);
__d("CommercialBreakUtil",["csx","CommercialBreakContextCard.react","CommercialBreakExperiments","DataStore","DOM","InstreamPlacement","React","ReactDOM","VideoPlayerFormatsMap","VideoWithNonInterruptiveAd.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();e.exports={renderContextCard:function(a,c){__p&&__p();if(c===null)return;var d=a.getOption("VideoWithInstreamVideo","controller"),e=a.getOption("VideoWithCommercialBreak","controller"),f=d&&d.getAdController();d=d&&d.getConfig();if(d&&!d.isBroadcast&&f){var g=JSON.parse(b("DataStore").get(f.getRootNode(),"store"));if(g&&Object.prototype.hasOwnProperty.call(g,"profileName")&&Object.prototype.hasOwnProperty.call(g,"profilePicURI")&&Object.prototype.hasOwnProperty.call(g,"profileLink")){var h=null,i=e&&e.getContextCardTrackingWrapper();if(i){i=b("DOM").setContent(c,i);i.length!=0&&(h=i[0])}i=e&&e.getCallToAction();var j=i&&i.adVideoID&&i.adVideoID.toString();f.getVideoID()!==j&&(i=null);f=null;j=null;var k=null,l=null,m=null;b("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&(f=e&&e.getChevronButtonID(),j=e&&e.getInstreamVideoOptionMenuURI());b("CommercialBreakExperiments").instreamAdsInfoCard&&(k=d&&d.hostVideoOwnerPageProfileName,l=d&&d.hostVideoOwnerPageProfileImageURI,m=e&&e.getInfoCardNuxID());b("ReactDOM").render(b("React").jsx(b("CommercialBreakContextCard.react"),{callToAction:i,config:d,hostVPC:a,profileName:g.profileName,profilePicURI:g.profilePicURI,profileLink:g.profileLink,chevronButtonID:f,instreamVideoOptionMenuURI:j,hostVideoOwnerPageProfileName:k,hostVideoOwnerPageProfileImageURI:l,infoCardNuxID:m}),h?h:c)}}},removeContextCard:function(a){if(!a)return;var c=b("DOM").find(a,"._36l3");c&&b("ReactDOM").unmountComponentAtNode(c.parentNode);b("DOM").remove(a)},renderNonInterruptiveAd:function(a,c,d){var e=null;if(d){d=b("DOM").setContent(c,d);d.length!==0&&(e=d[0],a.setNonInterruptiveAdTrackingWrapper(e))}b("ReactDOM").render(b("React").jsx(b("VideoWithNonInterruptiveAd.react"),{videoWithCommercialBreak:a}),e||c)},removeNonInterruptiveAd:function(a,c){if(!a)return;c&&b("ReactDOM").unmountComponentAtNode(c);b("DOM").remove(a)},logMarauderEvent:function(a,b,c){c===void 0&&(c={});a=a.getOption("VideoWithInstreamVideo","controller");a&&a.logMarauderEvent(b,c)},getVideoPlayerFormat:function(a){if(a.isFullscreen())return"full_screen";a=a.getSource();return a?b("VideoPlayerFormatsMap")[a]:"inline"},getVideoPlayerSubOrigin:function(a){return a.getPlayerSuborigin()||a.getSource()},coerceInstreamPlacementEnum:function(a){if(a===null||a===void 0)return b("InstreamPlacement").MID_ROLL;switch(a.toLowerCase()){case b("InstreamPlacement").PRE_ROLL:return b("InstreamPlacement").PRE_ROLL;case b("InstreamPlacement").MID_ROLL:return b("InstreamPlacement").MID_ROLL;case b("InstreamPlacement").POST_ROLL:return b("InstreamPlacement").POST_ROLL;case b("InstreamPlacement").NON_INTERRUPTIVE:return b("InstreamPlacement").NON_INTERRUPTIVE;default:return b("InstreamPlacement").MID_ROLL}},getNonInterruptiveStoryTypeConfig:function(){return new Set([3,263])}}}),null);
__d("CommercialBreakExposureLogger",["DateConsts","MarauderLogger","QE","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g){this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$6=g,this.$7=new(b("SubscriptionsHandler"))(),d&&e&&this.$7.addSubscriptions(this.$1.addListener("updateStatus",this.$8.bind(this)))}var c=a.prototype;c.$8=function(){__p&&__p();var a=this.$1.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC;for(var c=0;c<this.$3.length;c++){var d=this.$3[c].getTimeOffsetInMs()||0;if(a<=d&&a+this.$6>d){this.$7.release();b("QE").logExposure(this.$4);if(!this.$5){d={ad_break_index:this.$3[c].getIndex(),commercial_break_no_ad_reason:"control_group",host_video_id:this.$1.getVideoID(),instream_video_ad_type:this.$2?"vod":"nonlive"};b("MarauderLogger").log("commercial_break_start_show_nothing","commercial_break",d)}return}}};return a}();e.exports=a}),null);
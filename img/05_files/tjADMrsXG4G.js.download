if (self.CavalryLogger) { CavalryLogger.start_js(["izBvn"]); }

__d("PageIcebreakersSender",["cx","CurrentUser","FantaTabActions","Input","Keys","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MessengerDiscoveryEntryPointsLoggingHelper","MessengerDiscoveryEntryPoint","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","CSS"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryMessageActions").get(),i=[],j={registerForInput:function(a,c,d){var e=this;c.onclick=function(){j._sendMessageFromInput(a,d),j._updateButtonState(a,c),b("PagesLogger").log(d,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_MESSAGE,"pages__home_tab__icebreakers_unit",["PagesComms","OneClick"],{})};a.addEventListener("keypress",function(e){e=e.which?e.which:e.keyCode;e===b("Keys").RETURN&&(j._sendMessageFromInput(a,d),j._updateButtonState(a,c),b("PagesLogger").log(d,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_MESSAGE,"pages__home_tab__icebreakers_unit",["PagesComms","OneClick"],{}))});a.addEventListener("input",function(b){e._updateButtonState(a,c)})},registerForIcebreaker:function(a,c,d,e,f){a.onclick=function(){j._sendMessage(c,f),b("PagesLogger").log(f,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MESSENGER_ONE_CLICK_MESSAGE_BUTTON,"pages__home_tab__icebreakers_unit",["PagesComms","OneClick"],{message:d,position:e})},j._maybeLogOneClickMessageImpression(f,d,e)},_sendMessage:function(a,c){var d=new(b("MercuryMessageObject"))(b("CurrentUser").getID());h.send(d.constructUserGeneratedMessageObject(a,"source:titan:web",b("MercuryIDs").getThreadIDFromUserID(c),null,null,[b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([b("MessengerDiscoveryEntryPoint").FB_PAGE_ICEBREAKER_RHC])]));j._openTab(c)},_sendMessageFromInput:function(a,c){var d=b("Input").getValue(a);if(d.length<1)return;b("Input").setValue(a,"");j._sendMessage(d,c)},_openTab:function(a){var c=b("MercuryIDs").getThreadIDFromUserID(a);b("FantaTabActions").openTab(c,[b("MessengerDiscoveryEntryPoint").FB_PAGE_ICEBREAKER_RHC]);b("PagesLogger").log(a,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_MESSAGE_PROMPT,null,["messenger_destination_ads"],{})},_updateButtonState:function(a,c){a=b("Input").getValue(a);a.length<1?(b("CSS").removeClass(c.children[0],"_1sqf"),b("CSS").removeClass(c,"_1sqg")):(b("CSS").addClass(c.children[0],"_1sqf"),b("CSS").addClass(c,"_1sqg"))},_maybeLogOneClickMessageImpression:function(a,c,d){if(i.indexOf(c)>=0)return;b("PagesLogger").log(a,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").MESSENGER_ONE_CLICK_MESSAGE_BUTTON,"pages__home_tab__icebreakers_unit",["PagesComms","OneClick"],{position:d,message:c});i.push(c)}};e.exports=j}),null);
__d("XBusinessSendVerificationCodeToPendingEmailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/business/send/verification/email/",{persona_id:{type:"Int",required:!0},is_personal_ads_persona:{type:"Bool",defaultValue:!1},is_email_domain_verification:{type:"Bool",defaultValue:!1}})}),null);
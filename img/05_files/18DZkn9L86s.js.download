if (self.CavalryLogger) { CavalryLogger.start_js(["\/Lf5g"]); }

__d("ServicesVerticalRequestTimeTriggers.react",["JSResource","Link.react","MercuryIDs","PagesPlatformBookingMessageViewer","React","ServicesAppointmentManagementDialogEnum","ServicesDateTimeUtils","ServicesEventsLogger","ServicesRequestAppointmentGating","getPageIDFromThreadID","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={referrerUIComponent:"trigger_word",referrerUISurface:"message"},h=b("lazyLoadComponent")(b("JSResource")("ServicesAppointmentDialogRoot.react").__setRef("ServicesVerticalRequestTimeTriggers.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:!1},c.handleToggleDialog=function(a){c.setState({dialogShown:a})},c.handleClickText=function(){c.setState({dialogShown:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderDialog=function(){var a=this,c=this.state.dialogShown,d=this.props.data;if(!c)return null;var e=d.request_owner_id,f=b("ServicesDateTimeUtils").getClosestDateWithSameTime(d.start_time);return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,{causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,endTime:d.end_time,onToggle:this.handleToggleDialog,pageID:d.page_id,referrerData:g,showMessengerButton:!1,shown:c,startTime:f,userID:e,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})})};d.isEligibleToSee=function(){return this.isAdmin()&&b("ServicesRequestAppointmentGating").shouldShowThreadIntent};d.isAdmin=function(){return!b("getPageIDFromThreadID")(this.props.threadID)};d.componentDidMount=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.data)!=null?a.page_id:a:a:a;if(this.isEligibleToSee()&&a){var c=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);b("ServicesEventsLogger").log(a,"booking_admin_trigger_word_underline_impression",g,{customer_id:c,referrer_surface:"message"})}};d.render=function(){return!this.isEligibleToSee()?b("React").jsx("span",{children:this.props.text}):b("React").jsxs(b("Link.react"),{onClick:this.handleClickText,children:[this.props.text,this.renderDialog()]})};return c}(b("React").Component);e.exports=a}),null);